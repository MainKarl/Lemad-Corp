@model CommandVM

@section Styles {
<link rel="stylesheet" href="~/sass/command.css" />
}
<br />
<br />
<div class="container">
    <div class="row">
        <div class="col-md-3 col-1">
        </div>
        <br />
        <br />
        <br />
        <div class="col-md-6 col-10 form-background">
            <br />
            <br />
            <h1>Personnal information</h1>
            <hr />
            <form asp-action="Command">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <div class="form-group">
                    <p>First name:</p>
                    <input asp-for="FirstName" class="form-control" />
                    <span asp-validation-for="FirstName" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <p>Last name:</p>
                    <input asp-for="LastName" class="form-control" />
                    <span asp-validation-for="LastName" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <p>Email:</p>
                    <input asp-for="Email" class="form-control" />
                    <span asp-validation-for="Email" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <p>Phone number:</p>
                    <input asp-for="Phone" class="form-control" />
                    <span asp-validation-for="Phone" class="text-danger"></span>
                </div>

                <br />
                <h3>Shipping address</h3>

                <select id="myAddresses" asp-for="SelectedAddress" asp-items="@ViewBag.Addresses" class="form-control" disabled>
                    <option value="">Select Category</option>
                </select>
                <br />

                <input id="addaddress" checked type="checkbox" onchange="ShowAddress()" asp-for=AddNewAddress />
                <label for="addaddress">Use another address</label>

                <div id="address">
                    <div class="form-group">
                        <p>Home address:</p>
                        <input asp-for="Address" class="form-control" />
                        <span asp-validation-for="Address" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <p>City:</p>
                        <input asp-for="City" class="form-control" />
                        <span asp-validation-for="City" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <p>Province:</p>
                        <input asp-for="Province" class="form-control" />
                        <span asp-validation-for="Province" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <p>Country:</p>
                        <input asp-for="Country" class="form-control" />
                        <span asp-validation-for="Country" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <p>Postal code:</p>
                        <input asp-for="PostalCode" class="form-control" />
                        <span asp-validation-for="PostalCode" class="text-danger"></span>
                    </div>
                </div>

                <div class="form-group">
                    <input asp-for="Products" type="hidden" class="form-control" />
                </div>
                <div class="form-group">
                    <input asp-for="UserID" type="hidden" class="form-control" />
                </div>
                <div class="form-group">
                    <input asp-for="Total" type="hidden" class="form-control" />
                </div>
                <div class="form-group">
                    <input asp-for="TotalDiscount" type="hidden" class="form-control" />
                </div>
                <div class="form-group">
                    <input asp-for="TotalWithDiscount" type="hidden" class="form-control" />
                </div>
                <div class="form-group">
                    <input asp-for="TotalWithTaxes" type="hidden" class="form-control" />
                </div>
                <br />
                <br />
                <div class="display-buttons">
                    <button class="checkout-button" type="submit" value="Command">
                        Confirm informations
                    </button>
                    <div class="checkout-button center-button" onclick="callCart()">
                        Cancel the command
                    </div>
                    @*<div class="checkout-button centered-element" onclick="callCart()">
                    Cancel the command
                </div>*@
                <a id="cart-link" style="display:none; width:auto%; height: 0%" asp-area="" asp-controller="Product" asp-action="Cart" asp-route-ProductId=""></a>
                </div>
                <br />
                <br />
            </form>
        </div>
    </div>
</div>
<br />
<br />
<br />

<script type="text/javascript">
    function clearCart() {
            localStorage.clear();
        }

    function ShowAddress() {
        if($('#addaddress').is(":checked")){
            $('#address').show();
            $('#myAddresses').prop('disabled', true);
        }
        else {
            $('#address').hide();
            $('#myAddresses').prop('disabled', false);
        }
    }

</script>

@section Scripts {
    @{
    await Html.RenderPartialAsync("_ValidationScriptsPartial");
}
}
